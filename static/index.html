<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>Document</title>
    <script crossdomain src="https://unpkg.com/react@16/umd/react.development.js">
    </script>
    <script crossdomain src="https://unpkg.com/react-dom@16/umd/react-dom.development.js">
    </script>
    <script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js">
    </script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="/index.css">
</head>

<body>
    <div id="page">
        <div id="back">
            <div id="container">
                <div id="head">
                    <h1 class="login">Login</h1>
                </div>
                <div id="formarea">
                    <form method="get" action="" class="form">
                        <label class="label">Name:</label><br/>
                        <input type="text" class="input" name="name" placeholder="Enter name here" class="entertext" id="name" autoFocus/><br/><br/><br/>
                        <label class="label">Gmail:</label><br/>
                        <input type="email" name="email" placeholder="Enter text" required class="entertext" id="email" /><br/><br/><br/>
                        <label class="label">Password:</label><br/>
                        <input type="password" name=" password" placeholder="Max length 8" maxLength="8" class="entertext" id="password" /><br/><br/><br/>
                    </form>
                </div>
                <div id="submitarea">
                    <button type="submit" class="submit" id="submit">Register</button>
                    <button type="submit" class="submit" id="submit1">Login</button>
                </div>
            </div>
        </div>
    </div>


    <script>
        const submitbutton = document.getElementById("submit")
        const submitbutton1 = document.getElementById("submit1")
        submitbutton.addEventListener('click', registerUser)
        submitbutton1.addEventListener('click', registerUser1)

        async function registerUser(event) {
            const name = document.getElementById("name").value
            const password = document.getElementById("password").value
            const email = document.getElementById("email").value
            console.log(name);
            console.log(password);
            console.log(email);


            const result = await fetch('/signup', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    name,
                    password,
                    email
                })
            }).then((res) => res.json())
            console.log(result)
        }

        async function registerUser1(event) {
            const name = document.getElementById("name").value
            const password = document.getElementById("password").value
            const email = document.getElementById("email").value
            console.log(name);
            console.log(password);
            console.log(email);


            const result = await fetch('/login', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    name,
                    password,
                    email
                })
            }).then((res) => res.json())
            console.log(result)
        }
    </script>

</body>

</html>